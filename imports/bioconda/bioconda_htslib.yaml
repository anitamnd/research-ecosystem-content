about:
  doc_url: http://www.htslib.org/
  home: https://github.com/samtools/htslib
  license: MIT
  license_family: MIT
  license_file: LICENSE
  summary: C library for high-throughput sequencing data formats.
build:
  number: 2
  run_exports:
  - None
extra:
  additional-platforms:
  - linux-aarch64
  - osx-arm64
  identifiers:
  - biotools:HTSlib
  skip-lints:
  - in_other_channels
package:
  name: htslib
  version: 1.2
requirements:
  build:
  - make
  - None
  host:
  - libcurl
  - bzip2
  - xz
  - zlib
  - libdeflate
  - openssl
source:
  patches:
  - arm_hwcap.patch
  sha256: e52d95b14da68e0cfd7d27faf56fef2f88c2eaf32a2be51c72e146e3aa928544
  url: https://github.com/samtools/htslib/releases/download/1.20/htslib-1.20.tar.bz2
test:
  commands:
  - otool -L $PREFIX/bin/bgzip | grep deflate
  - ldd $PREFIX/bin/bgzip | grep deflate
  - test -e test1.bed || printf 'chr1\t100\t200\n' > test1.bed
  - bgzip test1.bed
  - tabix test1.bed.gz
  - htsfile test1.bed.gz
  files:
  - test1.bed
